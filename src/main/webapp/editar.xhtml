<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
<h:head>
    <title>Editar Tarefa</title>
</h:head>
<h:body>
    <h:form>
        <h:panelGrid columns="2">
        	<f:metadata>
  		 		<f:viewParam name="id" value="#{tarefaController.tarefaSelecionada.id}" />
   				 <f:event type="preRenderView" listener="#{tarefaController.carregarTarefa}" />
			</f:metadata>
			
			
            <h:outputText value="Título:" />
            <h:inputText value="#{tarefaController.tarefaSelecionada.titulo}" />
            
            <h:outputText value="Descrição:" />
            <h:inputText value="#{tarefaController.tarefaSelecionada.descricao}" />
            
            <h:outputText value="Responsável:" />
            <h:selectOneMenu value="#{tarefaController.tarefaSelecionada.responsavel}">
                <f:selectItems value="#{tarefaController.listaResponsaveis}" />
            </h:selectOneMenu>
            
            <h:outputText value="Prioridade:" />
            <h:selectOneMenu value="#{tarefaController.tarefaSelecionada.prioridade}">
                <f:selectItems value="#{tarefaController.listaPrioridades}" />
            </h:selectOneMenu>
            
            <h:outputText value="Deadline:" />
            <h:inputText value="#{tarefaController.tarefaSelecionada.deadline}">
                <f:converter converterId ="localDateStrictConverter" />
            </h:inputText>
        </h:panelGrid>
        
        <h:commandButton value="Salvar" action="#{tarefaController.save()}" />
        <h:commandButton value="Cancelar" action="#{tarefaController.listar()}" immediate="true" />
    </h:form>
</h:body>
</html>